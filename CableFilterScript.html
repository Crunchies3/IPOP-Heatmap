<script>

  function filterByColor(color) {
    // Clear the map
    map.eachLayer(function (layer) {
      if (layer instanceof L.Polyline) {
        map.removeLayer(layer);
      }
    });

    // Re-add polylines of the selected color
    Object.keys(polylines).forEach(function (type) {
      Object.keys(polylines[type]).forEach(function (cableName) {
        var item = polylines[type][cableName];
        console.log("item:", item); // Debugging line to check the item structure
        if (item["options"].color === color) {
          item.addTo(map);
        }
      });
    });
  }

  // Example usage:
  function redCables() {
    filterByColor("red");
  }

  function yellowCables() {
    filterByColor("yellow");
  }

  function greenCables() {
    filterByColor("green");
  }




  function convertSearchTerm(searchTerm) {
    if (searchTerm === "Show All Cable Systems") return "ALL";
    else if (searchTerm === "TGN-IA/TGN-P") return "TGN";
    else return searchTerm;
  }

</script>